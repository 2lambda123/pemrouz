!function e(t,n,i){function r(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!s&&c)return c(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var a=n[u]={exports:{}};t[u][0].call(a.exports,function(e){var n=t[u][1][e];return r(n?n:e)},a,a.exports,e,t,n,i)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(e){function t(e){return{name:l("h1",e).textContent,total:""+c(".test",e).length,failures:""+c(".fail",e).length}}function n(){location.reload()}var i=e("rijs.core"),r=e("rijs.data"),o=e("rijs.sync"),u=o(r(i())),s=e("utilise/to"),c=e("utilise/all"),l=e("utilise/raw"),a=u.io,f=window.console;u.io.on("reload",n),u.io.on("connect",function(){u.io.on("connect",n)}),u("results",{stats:{running:!0},suites:[],html:"Test in progress.."}),window.onerror=function(e,t,n){a.emit("global err",e,t,n)},["log","info","warn","error","debug"].forEach(function(e){if(window.console){var t=window.console[e];window.console[e]=function(){var n=s.arr(arguments);a.emit("console",e,n.map(function(e){return e})),t.apply&&t.apply(f,arguments)}}}),window.finish=function(){var e=this.stats;e.running=!1,u("results",{stats:e,suites:c("#mocha-report > .suite").map(t),html:l("#mocha").innerHTML})}},{"rijs.core":3,"rijs.data":5,"rijs.sync":6,"utilise/all":7,"utilise/raw":32,"utilise/to":37}],2:[function(){},{}],3:[function(e,t){"use strict";function n(){function e(n,r,o){var u=!0;e:for(;u;){u=!1;var s=n,c=r,l=o;if(s){if(m.arr(s))return s.map(e);if(m.obj(s)&&!s.name)return e;if(m.fn(s)&&s.resources){n=d(s.resources),u=!0;continue e}return m.str(s)&&!c&&t[s]?t[s].body:!m.str(s)||c||t[s]?m.str(s)&&c?i(e)({name:s,body:c,headers:l}):m.obj(s)&&!m.arr(s)?i(e)(s):(y("could not find or create resource",s),!1):i(e)({name:s})}return e}}h("creating");var t={};return e.resources=t,e.resource=a(e),e.register=e,e.types=s(),l(e)}function i(e){return function(t){var n=t.name,i=t.body,o=t.headers,u=void 0===o?{}:o;h("registering",n);var s=r(e)({name:n,body:i,headers:u}),c=e.resources[n]?"":"load";return s?(e.resources[n]=s,e.emit("change",[e.resources[n],{type:c}]),e.resources[n].body):(y("failed to register",n),!1)}}function r(e){return function(t){return p("content-type")(t)||d(e.types).sort(v("priority")).some(u(t)),p("content-type")(t)?o(e)(t):(y("could not understand resource",t),!1)}}function o(e){return function(t){var n=p("content-type")(t);return e.types[n]?(e.types[n].parse||f)(t):(y("could not understand type",n),!1)}}function u(e){return function(t){return t.check(e)&&(e.headers["content-type"]=t.header)}}function s(){return[b].reduce(g.obj("header"),1)}var c=function(e){return e&&e.__esModule?e["default"]:e};t.exports=n;var l=c(e("utilise/emitterify")),a=(c(e("utilise/colorfill")),c(e("utilise/chainable"))),f=c(e("utilise/identity")),p=(c(e("utilise/rebind")),c(e("utilise/header"))),d=c(e("utilise/values")),y=c(e("utilise/err")),h=c(e("utilise/log")),m=c(e("utilise/is")),g=c(e("utilise/to")),v=c(e("utilise/za")),b=c(e("./types/text"));y=y("[ri/core]"),h=h("[ri/core]")},{"./types/text":4,"utilise/chainable":9,"utilise/colorfill":11,"utilise/emitterify":15,"utilise/err":16,"utilise/header":21,"utilise/identity":22,"utilise/is":24,"utilise/log":27,"utilise/rebind":33,"utilise/to":37,"utilise/values":38,"utilise/za":39}],4:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e};t.exports={header:"text/plain",check:function(e){return!i(".html")(e.name)&&!i(".css")(e.name)&&r.str(e.body)}};var i=n(e("utilise/includes")),r=n(e("utilise/is"))},{"utilise/includes":23,"utilise/is":24}],5:[function(e,t){"use strict";function n(e){return l("creating"),e.on("change.data",i(e)),e.types["application/data"]={header:"application/data",check:function(e){return a.obj(e.body)||!e.body?!0:!1},parse:function(t){var n=e.resources[t.name]||{};return delete t.headers.listeners,s(t.headers)(n.headers),!t.body&&(t.body=[]),!t.body.on&&(t.body=o(t.body)),t.body.on.change=t.headers.listeners=t.headers.listeners||[],t.body.on("change.bubble",function(){return e.emit("change",[t],c(a["in"](["data"])))}),t}},e}function i(e){return function(t){var n=[arguments[0].body,arguments[1]];return u("content-type","application/data")(t)&&e.resources[t.name].body.emit("change",f.arr(n),c(a["in"](["bubble"])))}}var r=function(e){return e&&e.__esModule?e["default"]:e};t.exports=n;var o=r(e("utilise/emitterify")),u=r(e("utilise/header")),s=r(e("utilise/extend")),c=r(e("utilise/not")),l=r(e("utilise/log")),a=r(e("utilise/is")),f=r(e("utilise/to"));l=l("[ri/types/data]")},{"utilise/emitterify":15,"utilise/extend":17,"utilise/header":21,"utilise/is":24,"utilise/log":27,"utilise/not":29,"utilise/to":37}],6:[function(e,t){"use strict";function n(e,t){return C("creating"),j||t?(x(e.types).map(c(e)),e.sync=f(e),e.io=a(t),e.on("change",function(t){return f(e)()(t.name)}),e.io.on("change",l(e)),e.io.on("connection",function(t){return t.on("change",i(e))}),e.io.on("connection",function(t){return f(e)(t)()}),e.io.use(y),e):void 0}function i(e){return function(t){function n(n){var r=O(n)(a),u=t.name,f=n.replace(/(^|\.)_/g,"$1"),p=1==r.length?"push":2==r.length?"update":0===r[2]?"remove":"",d="update"==p?r[1]:r[0],y=E[p];return p?!s||s.call(i,d,c,f,p,u,y)?(f?y(f,d,c,u,o):l(e)(t),!0):void 0:!1}C("receiving",t.name);var i=this,o=e.resources[t.name];if(!o)return C("no resource",t.name);if(!A.obj(o.body))return l(e)(t);var u=w("proxy-to")(o)||g,s=w("proxy-from")(o),c=u.call(i,O("body")(o)),a=B(c,t.body);return A.arr(a)?n("")&&o.body.emit("change"):void(_(a).reverse().filter(q(A("_t"))).map(r(a)).reduce(b,[]).map(n).some(Boolean)&&o.body.emit("change"))}}function r(e){return function(t){var n=O(t)(e);return t=A.arr(t)?t:[t],A.arr(n)?t.join("."):_(n).map(v(t.join(".")+".")).map(r(e))}}function o(e,t,n){var i=e.split("."),r=i.pop(),o=O(i.join("."))(n)||n;A.arr(o)?o.splice(r,0,t):O(e,t)(n)}function u(e,t,n){var i=e.split("."),r=i.pop(),o=O(i.join("."))(n)||n;A.arr(o)?o.splice(r,1):delete o[r]}function s(e,t,n){O(e,t)(n)}function c(e){return function(t){var n=t.parse||k;t.parse=function(t){if(j)return n.apply(this,arguments),t;var i=e.resources[t.name],r=w("proxy-from")(i),o=w("proxy-to")(i);return t.headers["proxy-from"]=w("proxy-from")(t)||w("from")(t)||r,t.headers["proxy-to"]=w("proxy-to")(t)||w("to")(t)||o,n.apply(this,arguments),t}}}function l(e){return function(t){return t.headers.silent=!0,e(t)}}function a(t){var n=j?window.io?window.io():A.fn(e("socket.io-client"))?e("socket.io-client")():{on:k,emit:k}:e("socket.io")(t.server||t);return n.use=n.use||k,n}function f(e){return function(t){return function(n){if(!arguments.length||n){if(!n)return x(e.resources).map(O("name")).map(f(e)(t)),e;var i=e.resources[n],r=j?[e.io]:e.io.of("/").sockets,o=d(r.length,n),u=w("silent",!0)(i);return u?delete i.headers.silent:i?o(A.str(t)?r.filter(M("sessionID",t)).map(p(e)(i)):t?[p(e)(i)(t)]:r.map(p(e)(i))):C("no resource to emit: ",n)}}}}function p(e){return function(t){return function(n){var i=A.fn(t.body)?""+t.body:t.body,r={type:h(e)(t).to||g,res:t.headers["proxy-to"]||g};return i=r.res.call(n,i),i&&n.emit("change",r.type({name:t.name,body:i,headers:t.headers})),!!i}}}function d(e,t){return function(n){C(S(n.filter(Boolean).length).green.bold+"/"+S(e).green,"sending",t)}}function y(e,t){e.ip=e.request.headers["x-forwarded-for"]||e.request.connection.remoteAddress,t()}function h(e){return function(t){return e.types[w("content-type")(t)]}}var m=function(e){return e&&e.__esModule?e["default"]:e};t.exports=n;var g=m(e("utilise/identity")),v=(m(e("utilise/replace")),m(e("utilise/prepend"))),b=m(e("utilise/flatten")),x=m(e("utilise/values")),w=m(e("utilise/header")),j=m(e("utilise/client")),k=m(e("utilise/noop")),_=m(e("utilise/keys")),O=m(e("utilise/key")),S=m(e("utilise/str")),q=m(e("utilise/not")),C=m(e("utilise/log")),L=m(e("utilise/err")),M=m(e("utilise/by")),A=m(e("utilise/is")),B=e("jsondiffpatch").diff;C=C("[ri/sync]"),L=L("[ri/sync]");var E={push:o,remove:u,update:s}},{jsondiffpatch:2,"socket.io":2,"socket.io-client":2,"utilise/by":8,"utilise/client":10,"utilise/err":16,"utilise/flatten":18,"utilise/header":21,"utilise/identity":22,"utilise/is":24,"utilise/key":25,"utilise/keys":26,"utilise/log":27,"utilise/noop":28,"utilise/not":29,"utilise/prepend":31,"utilise/replace":34,"utilise/str":36,"utilise/values":38}],7:[function(e,t){var n=e("utilise/to");t.exports=function(e,t){var i=!t&&document.head.createShadowRoot?"html /deep/ ":"";return n.arr((t||document).querySelectorAll(i+e))}},{"utilise/to":37}],8:[function(e,t){var n=e("utilise/key"),i=e("utilise/is");t.exports=function(e,t){var r=1==arguments.length;return function(o){var u=n(e)(o);return u&&t&&u.toLowerCase&&t.toLowerCase?u.toLowerCase()===t.toLowerCase():r?Boolean(u):i.fn(t)?t(u):u==t}}},{"utilise/is":24,"utilise/key":25}],9:[function(e,t){t.exports=function(e){return function(){return e.apply(this,arguments),e}}},{}],10:[function(e,t){t.exports="undefined"!=typeof window},{}],11:[function(e,t){function n(){["red","green","bold","grey","strip"].forEach(function(e){!r.str(String.prototype[e])&&Object.defineProperty(String.prototype,e,{get:function(){return String(this)}})})}var i=e("utilise/client"),r=(!i&&e("colors"),e("utilise/has"),e("utilise/is"));t.exports=n()},{colors:2,"utilise/client":10,"utilise/has":20,"utilise/is":24}],12:[function(e,t){t.exports=function(e,t){return function(n){return t[n]=e[n],n}}},{}],13:[function(e,t){var n=e("utilise/sel");t.exports=function(e){return n(e).datum()}},{"utilise/sel":35}],14:[function(e,t){var n=e("utilise/has");t.exports=function(e,t,i,r){return!n(e,t)&&Object.defineProperty(e,t,{value:i,writable:r}),e[t]}},{"utilise/has":20}],15:[function(e,t){var n=e("utilise/err")("[emitterify]"),i=e("utilise/keys"),r=e("utilise/def"),o=e("utilise/not"),u=e("utilise/is");t.exports=function(e){function t(t,n,r){var c=t.split(".")[1],l=t.split(".")[0],a=e.on[l]||[],f=(a.length-1,u.arr(n)?n:[n||e]);if(c)return s(a,c,f),e;for(var p=a.length;p>=0;p--)s(a,p,f);return i(a).filter(o(isFinite)).filter(r||Boolean).map(function(e){return s(a,e,f)}),e}function s(t,i,r){if(t[i]){var o=t[i];t[i].once&&(isFinite(i)?t.splice(i,1):delete t[i]);try{o.apply(e,r)}catch(u){n(u,u.stack)}}}function c(t,n){var i=t.split(".")[1],r=t.split(".")[0];return e.on[r]=e.on[r]||[],n||i?!n&&i?e.on[r][i]:i?(e.on[r][i]=n,e):(e.on[r].push(n),e):e.on[r]}function l(t,n){return n.once=!0,e.on(t,n),e}return r(e,"on",c),r(e,"once",l),r(e,"emit",t),e}},{"utilise/def":14,"utilise/err":16,"utilise/is":24,"utilise/keys":26,"utilise/not":29}],16:[function(e,t){var n=e("utilise/owner"),i=e("utilise/to");t.exports=function(e){return function(t){if(!n.console||!console.error.apply)return t;var r=i.arr(arguments);return r.unshift(e.red?e.red:e),console.error.apply(console,r),t}}},{"utilise/owner":30,"utilise/to":37}],17:[function(e,t){var n=e("utilise/is"),i=e("utilise/not"),r=e("utilise/keys"),o=e("utilise/copy");t.exports=function(e){return function(t){return r(t).filter(i(n.in(e))).map(o(t,e)),e}}},{"utilise/copy":12,"utilise/is":24,"utilise/keys":26,"utilise/not":29}],18:[function(e,t){var n=e("utilise/is");t.exports=function i(e,t){return n.arr(t)&&(t=t.reduce(i,[])),e=e||[],e.concat(t)}},{"utilise/is":24}],19:[function(e,t){function n(e){return function(t){return o(t)(e)}}function i(e){return r(this.parentNode)[e]}var r=e("utilise/datum"),o=e("utilise/key");t.exports=n,n.parent=i},{"utilise/datum":13,"utilise/key":25}],20:[function(e,t){t.exports=function(e,t){return t in e}},{}],21:[function(e,t){var n=e("utilise/has");t.exports=function i(i,e){var t=1==arguments.length;return function(r){return r&&n(r,"headers")&&n(r.headers,i)?t?r.headers[i]:r.headers[i]==e:null}}},{"utilise/has":20}],22:[function(e,t){t.exports=function(e){return e}},{}],23:[function(e,t){t.exports=function(e){return function(t){return t&&t.indexOf&&~t.indexOf(e)}}},{}],24:[function(e,t){function n(e){return function(t){return t==e}}function i(e){return"function"==typeof e}function r(e){return"boolean"==typeof e}function o(e){return"string"==typeof e}function u(e){return"number"==typeof e}function s(e){return"object"==typeof e}function c(e){return"object"==typeof e&&!(e instanceof Array)}function l(e){return 1==!!e}function a(e){return 0==!!e}function f(e){return e instanceof Array}function p(e){return null===e}function d(e){return"undefined"!=typeof e}function y(e){return function(t){return e?e.indexOf?~e.indexOf(t):t in e:!1}}t.exports=n,n.fn=i,n.str=o,n.num=u,n.obj=s,n.lit=c,n.bol=r,n.truthy=l,n.falsy=a,n.arr=f,n.null=p,n.def=d,n.in=y},{}],25:[function(e,t){var n=e("utilise/is"),i=e("utilise/str");t.exports=function r(e,t){var o=arguments.length>1,u=i(e).split("."),s=u.shift();return function(i){function c(e){var t=r(e)(i);void 0!=t&&r(e,t)(l)}var l={};return i?e?n.arr(e)?(e.map(c),l):i[e]||!u.length?o?(i[e]=n.fn(t)?t(i[e]):t,i):i[e]:o?(r(u.join("."),t)(i[s]?i[s]:i[s]={}),i):r(u.join("."))(i[s]):i:void 0}}},{"utilise/is":24,"utilise/str":36}],26:[function(e,t){t.exports=function(e){return Object.keys(e||{})}},{}],27:[function(e,t){var n=e("utilise/is"),i=e("utilise/to"),r=e("utilise/owner");t.exports=function(e){return function(t){if(!r.console||!console.log.apply)return t;n.arr(arguments[2])&&(arguments[2]=arguments[2].length);var o=i.arr(arguments);return o.unshift(e.grey?e.grey:e),console.log.apply(console,o),t}}},{"utilise/is":24,"utilise/owner":30,"utilise/to":37}],28:[function(e,t){t.exports=function(){}},{}],29:[function(e,t){t.exports=function(e){return function(){return!e.apply(this,arguments)}}},{}],30:[function(e,t){(function(n){t.exports=e("utilise/client")?window:n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"utilise/client":10}],31:[function(e,t){t.exports=function(e){return function(t){return e+t}}},{}],32:[function(e,t){t.exports=function(e,t){var n=!t&&document.head.createShadowRoot?"html /deep/ ":"";return(t?t:document).querySelector(n+e)}},{}],33:[function(e,t){function n(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}t.exports=function(e,t){for(var i,r=1,o=arguments.length;++r<o;)e[i=arguments[r]]=n(e,t,t[i]);return e}},{}],34:[function(e,t){t.exports=function(e,t){return function(n){return n.replace(e,t)}}},{}],35:[function(e,t){t.exports=function(){return d3.select.apply(this,arguments)}},{}],36:[function(e,t){var n=e("utilise/is");t.exports=function(e){return 0===e?"0":e?n.fn(e)?""+e:n.obj(e)?JSON.stringify(e):String(e):""}},{"utilise/is":24}],37:[function(e,t){function n(e){return Array.prototype.slice.call(e,0)}function i(e){function t(e,t,i){return 0===i&&(e={}),e[t[n]]=t,e}var n="id";return 1==arguments.length?(n=e,t):t.apply(this,arguments)}t.exports={arr:n,obj:i}},{}],38:[function(e,t){var n=e("utilise/keys"),i=e("utilise/from");t.exports=function(e){return e?n(e).map(i(e)):[]}},{"utilise/from":19,"utilise/keys":26}],39:[function(e,t){var n=e("utilise/key");t.exports=function(e){return function(t,i){var r=n(e)(t)||"",o=n(e)(i)||"";return r>o?-1:o>r?1:0}}},{"utilise/key":25}]},{},[1]);