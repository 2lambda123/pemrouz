!function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!s&&a)return a(o,!0);if(u)return u(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var u="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e){function t(e){return{name:l("h1",e).textContent,total:""+a(".test",e).length,failures:""+a(".fail",e).length}}function n(){location.reload()}var i=e("rijs.core"),r=e("rijs.data"),u=e("rijs.sync"),o=u(r(i())),s=e("utilise/to"),a=e("utilise/all"),l=e("utilise/raw"),c=o.io,f=window.console;o.io.on("reload",n),o.io.on("connect",function(){o.io.on("connect",n)}),o("results",{stats:{running:!0},suites:[],html:"Test in progress.."}),window.onerror=function(e,t,n){c.emit("global err",e,t,n)},["log","info","warn","error","debug"].forEach(function(e){if(window.console){var t=window.console[e];window.console[e]=function(){var n=s.arr(arguments);c.emit("console",e,n.map(function(e){return e})),t.apply&&t.apply(f,arguments)}}}),window.finish=function(){var e=this.stats;e.running=!1,o("results",{stats:e,suites:a("#mocha-report > .suite").map(t),html:l("#mocha").innerHTML})}},{"rijs.core":3,"rijs.data":5,"rijs.sync":20,"utilise/all":43,"utilise/raw":62,"utilise/to":66}],2:[function(){},{}],3:[function(e,t){"use strict";function n(){function e(n,r,u){var o=!0;e:for(;o;){o=!1;var s=n,a=r,l=u;if(s){if(g.arr(s))return s.map(e);if(g.obj(s)&&!s.name)return e;if(g.fn(s)&&s.resources){n=d(s.resources),o=!0;continue e}return g.str(s)&&!a&&t[s]?t[s].body:!g.str(s)||a||t[s]?g.str(s)&&a?i(e)({name:s,body:a,headers:l}):g.obj(s)&&!g.arr(s)?i(e)(s):(y("could not find or create resource",s),!1):i(e)({name:s})}return e}}m("creating");var t={};return e.resources=t,e.resource=c(e),e.register=e,e.types=s(),l(e)}function i(e){return function(t){var n=t.name,i=t.body,u=t.headers,o=void 0===u?{}:u;m("registering",n);var s=r(e)({name:n,body:i,headers:o}),a=e.resources[n]?"":"load";return s?(e.resources[n]=s,e.emit("change",[e.resources[n],{type:a}]),e.resources[n].body):(y("failed to register",n),!1)}}function r(e){return function(t){return p("content-type")(t)||d(e.types).sort(v("priority")).some(o(t)),p("content-type")(t)?u(e)(t):(y("could not understand resource",t),!1)}}function u(e){return function(t){var n=p("content-type")(t);return e.types[n]?(e.types[n].parse||f)(t):(y("could not understand type",n),!1)}}function o(e){return function(t){return t.check(e)&&(e.headers["content-type"]=t.header)}}function s(){return[b].reduce(h.obj("header"),1)}var a=function(e){return e&&e.__esModule?e["default"]:e};t.exports=n;var l=a(e("utilise/emitterify")),c=(a(e("utilise/colorfill")),a(e("utilise/chainable"))),f=a(e("utilise/identity")),p=(a(e("utilise/rebind")),a(e("utilise/header"))),d=a(e("utilise/values")),y=a(e("utilise/err")),m=a(e("utilise/log")),g=a(e("utilise/is")),h=a(e("utilise/to")),v=a(e("utilise/za")),b=a(e("./types/text"));y=y("[ri/core]"),m=m("[ri/core]")},{"./types/text":4,"utilise/chainable":44,"utilise/colorfill":46,"utilise/emitterify":49,"utilise/err":50,"utilise/header":53,"utilise/identity":54,"utilise/is":56,"utilise/log":59,"utilise/rebind":63,"utilise/to":66,"utilise/values":67,"utilise/za":68}],4:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e};t.exports={header:"text/plain",check:function(e){return!i(".html")(e.name)&&!i(".css")(e.name)&&r.str(e.body)}};var i=n(e("utilise/includes")),r=n(e("utilise/is"))},{"utilise/includes":55,"utilise/is":56}],5:[function(e,t){"use strict";function n(e){return l("creating"),e.on("change.data",i(e)),e.types["application/data"]={header:"application/data",check:function(e){return c.obj(e.body)||!e.body?!0:!1},parse:function(t){var n=e.resources[t.name]||{};return delete t.headers.listeners,s(t.headers)(n.headers),!t.body&&(t.body=[]),!t.body.on&&(t.body=u(t.body)),t.body.on.change=t.headers.listeners=t.headers.listeners||[],t.body.on("change.bubble",function(){return e.emit("change",[t],a(c["in"](["data"])))}),t}},e}function i(e){return function(t){var n=[arguments[0].body,arguments[1]];return o("content-type","application/data")(t)&&e.resources[t.name].body.emit("change",f.arr(n),a(c["in"](["bubble"])))}}var r=function(e){return e&&e.__esModule?e["default"]:e};t.exports=n;var u=r(e("utilise/emitterify")),o=r(e("utilise/header")),s=r(e("utilise/extend")),a=r(e("utilise/not")),l=r(e("utilise/log")),c=r(e("utilise/is")),f=r(e("utilise/to"));l=l("[ri/types/data]")},{"utilise/emitterify":9,"utilise/extend":11,"utilise/header":13,"utilise/is":14,"utilise/log":16,"utilise/not":17,"utilise/to":19}],6:[function(e,t){t.exports="undefined"!=typeof window},{}],7:[function(e,t){t.exports=function(e,t){return function(n){return t[n]=e[n],n}}},{}],8:[function(e,t){var n=e("utilise/has");t.exports=function(e,t,i,r){return!n(e,t)&&Object.defineProperty(e,t,{value:i,writable:r}),e[t]}},{"utilise/has":12}],9:[function(e,t){var n=e("utilise/err")("[emitterify]"),i=e("utilise/keys"),r=e("utilise/def"),u=e("utilise/not"),o=e("utilise/is");t.exports=function(e){function t(t,n,r){var a=t.split(".")[1],l=t.split(".")[0],c=e.on[l]||[],f=(c.length-1,o.arr(n)?n:[n||e]);if(a)return s(c,a,f),e;for(var p=c.length;p>=0;p--)s(c,p,f);return i(c).filter(u(isFinite)).filter(r||Boolean).map(function(e){return s(c,e,f)}),e}function s(t,i,r){if(t[i]){var u=t[i];t[i].once&&(isFinite(i)?t.splice(i,1):delete t[i]);try{u.apply(e,r)}catch(o){n(o,o.stack)}}}function a(t,n){var i=t.split(".")[1],r=t.split(".")[0];return e.on[r]=e.on[r]||[],n||i?!n&&i?e.on[r][i]:i?(e.on[r][i]=n,e):(e.on[r].push(n),e):e.on[r]}function l(t,n){return n.once=!0,e.on(t,n),e}return r(e,"on",a),r(e,"once",l),r(e,"emit",t),e}},{"utilise/def":8,"utilise/err":10,"utilise/is":14,"utilise/keys":15,"utilise/not":17}],10:[function(e,t){var n=e("utilise/owner"),i=e("utilise/to");t.exports=function(e){return function(t){if(!n.console||!console.error.apply)return t;var r=i.arr(arguments);return r.unshift(e.red?e.red:e),console.error.apply(console,r),t}}},{"utilise/owner":18,"utilise/to":19}],11:[function(e,t){var n=e("utilise/is"),i=e("utilise/not"),r=e("utilise/keys"),u=e("utilise/copy");t.exports=function(e){return function(t){return r(t).filter(i(n.in(e))).map(u(t,e)),e}}},{"utilise/copy":7,"utilise/is":14,"utilise/keys":15,"utilise/not":17}],12:[function(e,t){t.exports=function(e,t){return t in e}},{}],13:[function(e,t){var n=e("utilise/has");t.exports=function i(i,e){var t=1==arguments.length;return function(r){return r&&n(r,"headers")&&n(r.headers,i)?t?r.headers[i]:r.headers[i]==e:null}}},{"utilise/has":12}],14:[function(e,t){function n(e){return function(t){return t==e}}function i(e){return"function"==typeof e}function r(e){return"boolean"==typeof e}function u(e){return"string"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e}function a(e){return"object"==typeof e&&!(e instanceof Array)}function l(e){return 1==!!e}function c(e){return 0==!!e}function f(e){return e instanceof Array}function p(e){return null===e}function d(e){return"undefined"!=typeof e}function y(e){return function(t){return e?e.indexOf?~e.indexOf(t):t in e:!1}}t.exports=n,n.fn=i,n.str=u,n.num=o,n.obj=s,n.lit=a,n.bol=r,n.truthy=l,n.falsy=c,n.arr=f,n.null=p,n.def=d,n.in=y},{}],15:[function(e,t){t.exports=function(e){return Object.keys(e||{})}},{}],16:[function(e,t){var n=e("utilise/is"),i=e("utilise/to"),r=e("utilise/owner");t.exports=function(e){return function(t){if(!r.console||!console.log.apply)return t;n.arr(arguments[2])&&(arguments[2]=arguments[2].length);var u=i.arr(arguments);return u.unshift(e.grey?e.grey:e),console.log.apply(console,u),t}}},{"utilise/is":14,"utilise/owner":18,"utilise/to":19}],17:[function(e,t){t.exports=function(e){return function(){return!e.apply(this,arguments)}}},{}],18:[function(e,t){(function(n){t.exports=e("utilise/client")?window:n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"utilise/client":6}],19:[function(e,t){function n(e){return Array.prototype.slice.call(e,0)}function i(e){function t(e,t,i){return 0===i&&(e={}),e[t[n]]=t,e}var n="id";return 1==arguments.length?(n=e,t):t.apply(this,arguments)}t.exports={arr:n,obj:i}},{}],20:[function(e,t){"use strict";function n(e,t){return C("creating"),k||t?(x(e.types).map(a(e)),e.sync=f(e),e.io=c(t),e.on("change",function(t){return f(e)()(t.name)}),e.io.on("change",l(e)),e.io.on("connection",function(t){return t.on("change",i(e))}),e.io.on("connection",function(t){return f(e)(t)()}),e.io.use(y),e):void 0}function i(e){return function(t){function n(n){var r=O(n)(c),o=t.name,f=n.replace(/(^|\.)_/g,"$1"),p=1==r.length?"push":2==r.length?"update":0===r[2]?"remove":"",d="update"==p?r[1]:r[0],y=E[p];return p?!s||s.call(i,d,a,f,p,o,y)?(f?y(f,d,a,o,u):l(e)(t),!0):void 0:!1}C("receiving",t.name);var i=this,u=e.resources[t.name];if(!u)return C("no resource",t.name);if(!A.obj(u.body))return l(e)(t);var o=w("proxy-to")(u)||h,s=w("proxy-from")(u),a=o.call(i,O("body")(u)),c=B(a,t.body);return A.arr(c)?n("")&&u.body.emit("change"):void(_(c).reverse().filter(q(A("_t"))).map(r(c)).reduce(b,[]).map(n).some(Boolean)&&u.body.emit("change"))}}function r(e){return function(t){var n=O(t)(e);return t=A.arr(t)?t:[t],A.arr(n)?t.join("."):_(n).map(v(t.join(".")+".")).map(r(e))}}function u(e,t,n){var i=e.split("."),r=i.pop(),u=O(i.join("."))(n)||n;A.arr(u)?u.splice(r,0,t):O(e,t)(n)}function o(e,t,n){var i=e.split("."),r=i.pop(),u=O(i.join("."))(n)||n;A.arr(u)?u.splice(r,1):delete u[r]}function s(e,t,n){O(e,t)(n)}function a(e){return function(t){var n=t.parse||j;t.parse=function(t){if(k)return n.apply(this,arguments),t;var i=e.resources[t.name],r=w("proxy-from")(i),u=w("proxy-to")(i);return t.headers["proxy-from"]=w("proxy-from")(t)||w("from")(t)||r,t.headers["proxy-to"]=w("proxy-to")(t)||w("to")(t)||u,n.apply(this,arguments),t}}}function l(e){return function(t){return t.headers.silent=!0,e(t)}}function c(t){var n=k?window.io?window.io():A.fn(e("socket.io-client"))?e("socket.io-client")():{on:j,emit:j}:e("socket.io")(t.server||t);return n.use=n.use||j,n}function f(e){return function(t){return function(n){if(!arguments.length||n){if(!n)return x(e.resources).map(O("name")).map(f(e)(t)),e;var i=e.resources[n],r=k?[e.io]:e.io.of("/").sockets,u=d(r.length,n),o=w("silent",!0)(i);return o?delete i.headers.silent:i?u(A.str(t)?r.filter(M("sessionID",t)).map(p(e)(i)):t?[p(e)(i)(t)]:r.map(p(e)(i))):C("no resource to emit: ",n)}}}}function p(e){return function(t){return function(n){var i=A.fn(t.body)?""+t.body:t.body,r={type:m(e)(t).to||h,res:t.headers["proxy-to"]||h};return i=r.res.call(n,i),i&&n.emit("change",r.type({name:t.name,body:i,headers:t.headers})),!!i}}}function d(e,t){return function(n){C(S(n.filter(Boolean).length).green.bold+"/"+S(e).green,"sending",t)}}function y(e,t){e.ip=e.request.headers["x-forwarded-for"]||e.request.connection.remoteAddress,t()}function m(e){return function(t){return e.types[w("content-type")(t)]}}var g=function(e){return e&&e.__esModule?e["default"]:e};t.exports=n;var h=g(e("utilise/identity")),v=(g(e("utilise/replace")),g(e("utilise/prepend"))),b=g(e("utilise/flatten")),x=g(e("utilise/values")),w=g(e("utilise/header")),k=g(e("utilise/client")),j=g(e("utilise/noop")),_=g(e("utilise/keys")),O=g(e("utilise/key")),S=g(e("utilise/str")),q=g(e("utilise/not")),C=g(e("utilise/log")),L=g(e("utilise/err")),M=g(e("utilise/by")),A=g(e("utilise/is")),B=e("jsondiffpatch").diff;C=C("[ri/sync]"),L=L("[ri/sync]");var E={push:u,remove:o,update:s}},{jsondiffpatch:2,"socket.io":2,"socket.io-client":2,"utilise/by":21,"utilise/client":22,"utilise/err":24,"utilise/flatten":25,"utilise/header":28,"utilise/identity":29,"utilise/is":30,"utilise/key":31,"utilise/keys":32,"utilise/log":33,"utilise/noop":34,"utilise/not":35,"utilise/prepend":37,"utilise/replace":38,"utilise/str":40,"utilise/values":42}],21:[function(e,t){var n=e("utilise/key"),i=e("utilise/is");t.exports=function(e,t){var r=1==arguments.length;return function(u){var o=n(e)(u);return o&&t&&o.toLowerCase&&t.toLowerCase?o.toLowerCase()===t.toLowerCase():r?Boolean(o):i.fn(t)?t(o):o==t}}},{"utilise/is":30,"utilise/key":31}],22:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{dup:6}],23:[function(e,t){var n=e("utilise/sel");t.exports=function(e){return n(e).datum()}},{"utilise/sel":39}],24:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{dup:10,"utilise/owner":36,"utilise/to":41}],25:[function(e,t){var n=e("utilise/is");t.exports=function i(e,t){return n.arr(t)&&(t=t.reduce(i,[])),e=e||[],e.concat(t)}},{"utilise/is":30}],26:[function(e,t){function n(e){return function(t){return u(t)(e)}}function i(e){return r(this.parentNode)[e]}var r=e("utilise/datum"),u=e("utilise/key");t.exports=n,n.parent=i},{"utilise/datum":23,"utilise/key":31}],27:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],28:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{dup:13,"utilise/has":27}],29:[function(e,t){t.exports=function(e){return e}},{}],30:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],31:[function(e,t){var n=e("utilise/is"),i=e("utilise/str");t.exports=function r(e,t){var u=arguments.length>1,o=i(e).split("."),s=o.shift();return function(i){function a(e){var t=r(e)(i);void 0!=t&&r(e,t)(l)}var l={};return i?e?n.arr(e)?(e.map(a),l):i[e]||!o.length?u?(i[e]=n.fn(t)?t(i[e]):t,i):i[e]:u?(r(o.join("."),t)(i[s]?i[s]:i[s]={}),i):r(o.join("."))(i[s]):i:void 0}}},{"utilise/is":30,"utilise/str":40}],32:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],33:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16,"utilise/is":30,"utilise/owner":36,"utilise/to":41}],34:[function(e,t){t.exports=function(){}},{}],35:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],36:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18,"utilise/client":22}],37:[function(e,t){t.exports=function(e){return function(t){return e+t}}},{}],38:[function(e,t){t.exports=function(e,t){return function(n){return n.replace(e,t)}}},{}],39:[function(e,t){t.exports=function(){return d3.select.apply(this,arguments)}},{}],40:[function(e,t){var n=e("utilise/is");t.exports=function(e){return 0===e?"0":e?n.fn(e)?""+e:n.obj(e)?JSON.stringify(e):String(e):""}},{"utilise/is":30}],41:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],42:[function(e,t){var n=e("utilise/keys"),i=e("utilise/from");t.exports=function(e){return e?n(e).map(i(e)):[]}},{"utilise/from":26,"utilise/keys":32}],43:[function(e,t){var n=e("utilise/to");t.exports=function(e,t){var i=!t&&document.head.createShadowRoot?"html /deep/ ":"";return n.arr((t||document).querySelectorAll(i+e))}},{"utilise/to":66}],44:[function(e,t){t.exports=function(e){return function(){return e.apply(this,arguments),e}}},{}],45:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{dup:6}],46:[function(e,t){function n(){["red","green","bold","grey","strip"].forEach(function(e){!r.str(String.prototype[e])&&Object.defineProperty(String.prototype,e,{get:function(){return String(this)}})})}var i=e("utilise/client"),r=(!i&&e("colors"),e("utilise/has"),e("utilise/is"));t.exports=n()},{colors:2,"utilise/client":45,"utilise/has":52,"utilise/is":56}],47:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23,"utilise/sel":64}],48:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{dup:8,"utilise/has":52}],49:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{dup:9,"utilise/def":48,"utilise/err":50,"utilise/is":56,"utilise/keys":58,"utilise/not":60}],50:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{dup:10,"utilise/owner":61,"utilise/to":66}],51:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{dup:26,"utilise/datum":47,"utilise/key":57}],52:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],53:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{dup:13,"utilise/has":52}],54:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],55:[function(e,t){t.exports=function(e){return function(t){return t&&t.indexOf&&~t.indexOf(e)}}},{}],56:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],57:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31,"utilise/is":56,"utilise/str":65}],58:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],59:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16,"utilise/is":56,"utilise/owner":61,"utilise/to":66}],60:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],61:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18,"utilise/client":45}],62:[function(e,t){t.exports=function(e,t){var n=!t&&document.head.createShadowRoot?"html /deep/ ":"";return(t?t:document).querySelector(n+e)}},{}],63:[function(e,t){function n(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}t.exports=function(e,t){for(var i,r=1,u=arguments.length;++r<u;)e[i=arguments[r]]=n(e,t,t[i]);return e}},{}],64:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],65:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{dup:40,"utilise/is":56}],66:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],67:[function(e,t,n){arguments[4][42][0].apply(n,arguments)},{dup:42,"utilise/from":51,"utilise/keys":58}],68:[function(e,t){var n=e("utilise/key");t.exports=function(e){return function(t,i){var r=n(e)(t)||"",u=n(e)(i)||"";return r>u?-1:u>r?1:0}}},{"utilise/key":57}]},{},[1]);