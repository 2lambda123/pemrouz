!function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!s&&a)return a(o,!0);if(u)return u(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var u="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e){function t(e){return{name:l("h1",e).textContent,total:""+a(".test",e).length,failures:""+a(".fail",e).length}}function n(){location.reload()}var i=e("rijs.core"),r=e("rijs.data"),u=e("rijs.sync"),o=u(r(i())),s=e("utilise/to"),a=e("utilise/all"),l=e("utilise/raw"),c=o.io,f=window.console;o.io.on("reload",n),o.io.on("connect",function(){o.io.on("connect",n)}),o("results",{stats:{running:!0},suites:[],html:"Test in progress.."}),window.onerror=function(e,t,n){c.emit("global err",e,t,n)},["log","info","warn","error","debug"].forEach(function(e){if(window.console){var t=window.console[e];window.console[e]=function(){var n=s.arr(arguments);c.emit("console",e,n.map(function(e){return e})),t.apply&&t.apply(f,arguments)}}}),window.finish=function(){var e=this.stats;e.running=!1,o("results",{stats:e,suites:a("#mocha-report > .suite").map(t),html:l("#mocha").innerHTML})}},{"rijs.core":3,"rijs.data":5,"rijs.sync":20,"utilise/all":41,"utilise/raw":60,"utilise/to":64}],2:[function(){},{}],3:[function(e,t){"use strict";function n(){function e(n,r,u){var o=!0;e:for(;o;){o=!1;var s=n,a=r,l=u;if(s){if(g.arr(s))return s.map(e);if(g.fn(s)&&s.resources){n=d(s.resources),o=!0;continue e}return g.str(s)&&!a&&t[s]?t[s].body:!g.str(s)||a||t[s]?g.str(s)&&a?i(e)({name:s,body:a,headers:l}):g.obj(s)&&!g.arr(s)?i(e)(s):(m("could not find or create resource",s),!1):i(e)({name:s})}return e}}y("creating");var t={};return e.resources=t,e.resource=c(e),e.register=e,e.types=s(),l(e)}function i(e){return function(t){var n=t.name,i=t.body,u=t.headers,o=void 0===u?{}:u;if(!n)return m("cannot register nameless resource");y("registering",n);var s=r(e)({name:n,body:i,headers:o});return s?(e.resources[n]=s,e.emit("change",[e.resources[n]]),e.resources[n].body):(m("failed to register",n),!1)}}function r(e){return function(t){return p("content-type")(t)||d(e.types).some(o(t)),p("content-type")(t)?u(e)(t):(m("could not understand",t),!1)}}function u(e){return function(t){return((e.types[p("content-type")(t)]||{}).parse||f)(t)}}function o(e){return function(t){return t.check(e)&&(e.headers["content-type"]=t.header)}}function s(){return[v].reduce(h.obj("header"),1)}var a=function(e){return e&&e.__esModule?e["default"]:e};t.exports=n;var l=a(e("utilise/emitterify")),c=(a(e("utilise/colorfill")),a(e("utilise/chainable"))),f=a(e("utilise/identity")),p=(a(e("utilise/rebind")),a(e("utilise/header"))),d=a(e("utilise/values")),m=a(e("utilise/err")),y=a(e("utilise/log")),g=a(e("utilise/is")),h=a(e("utilise/to")),v=a(e("./types/text"));m=m("[ri/core]"),y=y("[ri/core]")},{"./types/text":4,"utilise/chainable":42,"utilise/colorfill":44,"utilise/emitterify":47,"utilise/err":48,"utilise/header":51,"utilise/identity":52,"utilise/is":54,"utilise/log":57,"utilise/rebind":61,"utilise/to":64,"utilise/values":65}],4:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e};t.exports={header:"text/plain",check:function(e){return!i(".html")(e.name)&&!i(".css")(e.name)&&r.str(e.body)}};var i=n(e("utilise/includes")),r=n(e("utilise/is"))},{"utilise/includes":53,"utilise/is":54}],5:[function(e,t){"use strict";function n(e){return l("creating"),e.on("change.data",i(e)),e.types["application/data"]={header:"application/data",check:function(e){return c.obj(e.body)||!e.body?!0:!1},parse:function(t){var n=e.resources[t.name]||{};return delete t.headers.listeners,s(t.headers)(n.headers),!t.body&&(t.body=[]),!t.body.on&&(t.body=u(t.body)),t.body.on.change=t.headers.listeners=t.headers.listeners||[],t.body.on("change.bubble",function(){return e.emit("change",[t],a(c["in"](["data"])))}),t}},e}function i(e){return function(t){var n=[arguments[0].body,arguments[1]];return o("content-type","application/data")(t)&&e.resources[t.name].body.emit("change",f.arr(n),a(c["in"](["bubble"])))}}var r=function(e){return e&&e.__esModule?e["default"]:e};t.exports=n;var u=r(e("utilise/emitterify")),o=r(e("utilise/header")),s=r(e("utilise/extend")),a=r(e("utilise/not")),l=r(e("utilise/log")),c=r(e("utilise/is")),f=r(e("utilise/to"));l=l("[ri/types/data]")},{"utilise/emitterify":9,"utilise/extend":11,"utilise/header":13,"utilise/is":14,"utilise/log":16,"utilise/not":17,"utilise/to":19}],6:[function(e,t){t.exports="undefined"!=typeof window},{}],7:[function(e,t){t.exports=function(e,t){return function(n){return t[n]=e[n],n}}},{}],8:[function(e,t){var n=e("utilise/has");t.exports=function(e,t,i,r){return!n(e,t)&&Object.defineProperty(e,t,{value:i,writable:r}),e[t]}},{"utilise/has":12}],9:[function(e,t){var n=e("utilise/err")("[emitterify]"),i=e("utilise/keys"),r=e("utilise/def"),u=e("utilise/not"),o=e("utilise/is");t.exports=function(e){function t(t,n,r){var a=t.split(".")[1],l=t.split(".")[0],c=e.on[l]||[],f=(c.length-1,o.arr(n)?n:[n||e]);if(a)return s(c,a,f),e;for(var p=c.length;p>=0;p--)s(c,p,f);return i(c).filter(u(isFinite)).filter(r||Boolean).map(function(e){return s(c,e,f)}),e}function s(t,i,r){if(t[i]){try{t[i].apply(e,r)}catch(u){n(u,u.stack)}t[i].once&&(isFinite(i)?t.splice(i,1):delete t[i])}}function a(t,n){var i=t.split(".")[1],r=t.split(".")[0];return e.on[r]=e.on[r]||[],n||i?!n&&i?e.on[r][i]:i?(e.on[r][i]=n,e):(e.on[r].push(n),e):e.on[r]}function l(t,n){return n.once=!0,e.on(t,n),e}return r(e,"on",a),r(e,"once",l),r(e,"emit",t),e}},{"utilise/def":8,"utilise/err":10,"utilise/is":14,"utilise/keys":15,"utilise/not":17}],10:[function(e,t){var n=e("utilise/owner"),i=e("utilise/to");t.exports=function(e){return function(t){if(!n.console||!console.error.apply)return t;var r=i.arr(arguments);return r.unshift(e.red?e.red:e),console.error.apply(console,r),t}}},{"utilise/owner":18,"utilise/to":19}],11:[function(e,t){var n=e("utilise/is"),i=e("utilise/not"),r=e("utilise/keys"),u=e("utilise/copy");t.exports=function(e){return function(t){return r(t).filter(i(n.in(e))).map(u(t,e)),e}}},{"utilise/copy":7,"utilise/is":14,"utilise/keys":15,"utilise/not":17}],12:[function(e,t){t.exports=function(e,t){return t in e}},{}],13:[function(e,t){var n=e("utilise/has");t.exports=function i(i,e){var t=1==arguments.length;return function(r){return r&&n(r,"headers")&&n(r.headers,i)?t?r.headers[i]:r.headers[i]==e:null}}},{"utilise/has":12}],14:[function(e,t){function n(e){return function(t){return t==e}}function i(e){return"function"==typeof e}function r(e){return"boolean"==typeof e}function u(e){return"string"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e}function a(e){return"object"==typeof e&&!(e instanceof Array)}function l(e){return 1==!!e}function c(e){return 0==!!e}function f(e){return e instanceof Array}function p(e){return null===e}function d(e){return"undefined"!=typeof e}function m(e){return function(t){return e.indexOf?~e.indexOf(t):t in e}}t.exports=n,n.fn=i,n.str=u,n.num=o,n.obj=s,n.lit=a,n.bol=r,n.truthy=l,n.falsy=c,n.arr=f,n.null=p,n.def=d,n.in=m},{}],15:[function(e,t){t.exports=function(e){return Object.keys(e||{})}},{}],16:[function(e,t){var n=e("utilise/is"),i=e("utilise/to"),r=e("utilise/owner");t.exports=function(e){return function(t){if(!r.console||!console.log.apply)return t;n.arr(arguments[2])&&(arguments[2]=arguments[2].length);var u=i.arr(arguments);return u.unshift(e.grey?e.grey:e),console.log.apply(console,u),t}}},{"utilise/is":14,"utilise/owner":18,"utilise/to":19}],17:[function(e,t){t.exports=function(e){return function(){return!e.apply(this,arguments)}}},{}],18:[function(e,t){(function(n){t.exports=e("utilise/client")?window:n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"utilise/client":6}],19:[function(e,t){function n(e){return Array.prototype.slice.call(e,0)}function i(e){function t(e,t,i){return 0===i&&(e={}),e[t[n]]=t,e}var n="id";return 1==arguments.length?(n=e,t):t.apply(this,arguments)}t.exports={arr:n,obj:i}},{}],20:[function(e,t){"use strict";function n(e,t){return _("creating"),v||t?(g(e.types).map(a(e)),e.sync=f(e),e.io=c(t),e.on("change",function(t){return f(e)()(t.name)}),e.io.on("change",l(e)),e.io.on("connection",function(t){return t.on("change",i(e))}),e.io.on("connection",function(t){return f(e)(t)()}),e):void 0}function i(e){return function(t){function n(n){var r=w(n)(c),o=t.name,a=u.body,f=n.replace(/_/g,""),p=1==r.length?"push":2==r.length?"update":0===r[2]?"remove":"",d="update"==p?r[1]:r[0],m=L[p];if(p&&(!s||s.call(i,d,a,f,p,o,m))){if(!f)return l(e)(t);m(f,d,a,o,u),e(o).emit("change")}}_("receiving",t.name);var i=this,u=e.resources[t.name];if(!u)return _("no resource",t.name);if(!q.obj(u.body))return l(e)(t);var o=h("proxy-to")(u)||y,s=h("proxy-from")(u),a=o.call(i,w("body")(u)),c=C(a,t.body);return q.arr(c)?n(""):void x(c).reverse().filter(j(q("_t"))).map(r(c)).map(n)}}function r(e){return function(t){var n=w(t)(e);return t=q.arr(t)?t:[t],q.arr(n)?t.join("."):r(e)(t.concat(x(n)).join("."))}}function u(e,t,n){var i=e.split("."),r=i.pop(),u=w(i.join("."))(n)||n;q.arr(u)?u.splice(r,0,t):u[e]=t}function o(e,t,n){var i=e.split("."),r=i.pop(),u=w(i.join("."))(n)||n;q.arr(u)?u.splice(r,1):delete u[r]}function s(e,t,n){w(e,t)(n)}function a(e){return function(t){var n=t.parse||b;t.parse=function(t){if(v)return n.apply(this,arguments),t;var i=e.resources[t.name],r=h("proxy-from")(i),u=h("proxy-to")(i);return t.headers["proxy-from"]=h("proxy-from")(t)||h("from")(t)||r,t.headers["proxy-to"]=h("proxy-to")(t)||h("to")(t)||u,n.apply(this,arguments),t}}}function l(e){return function(t){return t.headers.silent=!0,e(t)}}function c(t){return v?window.io?window.io():q.fn(e("socket.io-client"))?e("socket.io-client")():{on:b,emit:b}:e("socket.io")(t.server||t)}function f(e){return function(t){return function(n){if(!arguments.length||n){if(!n)return g(e.resources).map(w("name")).map(f(e)(t)),e;var i=e.resources[n],r=v?[e.io]:e.io.of("/").sockets,u=d(r.length,n),o=h("silent",!0)(i);return o?delete i.headers.silent:i?u(q.str(t)?r.filter(S("sessionID",t)).map(p(i)):t?[p(i)(t)]:r.map(p(i))):_("no resource to emit: ",n)}}}}function p(e){return function(t){var n=e.headers["proxy-to"]||y,i=q.fn(e.body)?""+e.body:e.body,i=n.call(t,i);return i&&t.emit("change",{name:e.name,body:i,headers:e.headers}),!!i}}function d(e,t){return function(n){_(k(n.filter(Boolean).length).green.bold+"/"+k(e).green,"sending",t)}}var m=function(e){return e&&e.__esModule?e["default"]:e};t.exports=n;var y=m(e("utilise/identity")),g=(m(e("utilise/replace")),m(e("utilise/values"))),h=m(e("utilise/header")),v=m(e("utilise/client")),b=m(e("utilise/noop")),x=m(e("utilise/keys")),w=m(e("utilise/key")),k=m(e("utilise/str")),j=m(e("utilise/not")),_=m(e("utilise/log")),O=m(e("utilise/err")),S=m(e("utilise/by")),q=m(e("utilise/is")),C=e("jsondiffpatch").diff;_=_("[ri/sync]"),O=O("[ri/sync]");var L={push:u,remove:o,update:s}},{jsondiffpatch:2,"socket.io":2,"socket.io-client":2,"utilise/by":21,"utilise/client":22,"utilise/err":24,"utilise/header":27,"utilise/identity":28,"utilise/is":29,"utilise/key":30,"utilise/keys":31,"utilise/log":32,"utilise/noop":33,"utilise/not":34,"utilise/replace":36,"utilise/str":38,"utilise/values":40}],21:[function(e,t){var n=e("utilise/key"),i=e("utilise/is");t.exports=function(e,t){var r=1==arguments.length;return function(u){var o=n(e)(u);return o&&t&&o.toLowerCase&&t.toLowerCase?o.toLowerCase()===t.toLowerCase():r?Boolean(o):i.fn(t)?t(o):o==t}}},{"utilise/is":29,"utilise/key":30}],22:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{dup:6}],23:[function(e,t){var n=e("utilise/sel");t.exports=function(e){return n(e).datum()}},{"utilise/sel":37}],24:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{dup:10,"utilise/owner":35,"utilise/to":39}],25:[function(e,t){function n(e){return function(t){return u(t)(e)}}function i(e){return r(this.parentNode)[e]}var r=e("utilise/datum"),u=e("utilise/key");t.exports=n,n.parent=i},{"utilise/datum":23,"utilise/key":30}],26:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],27:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{dup:13,"utilise/has":26}],28:[function(e,t){t.exports=function(e){return e}},{}],29:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],30:[function(e,t){var n=e("utilise/is"),i=e("utilise/str");t.exports=function r(e,t){var u=arguments.length>1,o=i(e).split("."),s=o.shift();return function(i){function a(e){r(e,r(e)(i))(l)}var l={};return i?e?n.arr(e)?(e.map(a),l):i[e]||!o.length?u?(i[e]=n.fn(t)?t(i[e]):t,i):i[e]:u?(r(o.join("."),t)(i[s]?i[s]:i[s]={}),i):r(o.join("."))(i[s]):i:void 0}}},{"utilise/is":29,"utilise/str":38}],31:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],32:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16,"utilise/is":29,"utilise/owner":35,"utilise/to":39}],33:[function(e,t){t.exports=function(){}},{}],34:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],35:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18,"utilise/client":22}],36:[function(e,t){t.exports=function(e,t){return function(n){return n.replace(e,t)}}},{}],37:[function(e,t){t.exports=function(){return d3.select.apply(this,arguments)}},{}],38:[function(e,t){var n=e("utilise/is");t.exports=function(e){return 0===e?"0":e?n.fn(e)?""+e:n.obj(e)?JSON.stringify(e):String(e):""}},{"utilise/is":29}],39:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],40:[function(e,t){var n=e("utilise/keys"),i=e("utilise/from");t.exports=function(e){return e?n(e).map(i(e)):[]}},{"utilise/from":25,"utilise/keys":31}],41:[function(e,t){var n=e("utilise/to");t.exports=function(e,t){var i=!t&&document.head.createShadowRoot?"html /deep/ ":"";return n.arr((t||document).querySelectorAll(i+e))}},{"utilise/to":64}],42:[function(e,t){t.exports=function(e){return function(){return e.apply(this,arguments),e}}},{}],43:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{dup:6}],44:[function(e,t){function n(){["red","green","bold","grey","strip"].forEach(function(e){!r.str(String.prototype[e])&&Object.defineProperty(String.prototype,e,{get:function(){return String(this)}})})}var i=e("utilise/client"),r=(!i&&e("colors"),e("utilise/has"),e("utilise/is"));t.exports=n()},{colors:2,"utilise/client":43,"utilise/has":50,"utilise/is":54}],45:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23,"utilise/sel":62}],46:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{dup:8,"utilise/has":50}],47:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{dup:9,"utilise/def":46,"utilise/err":48,"utilise/is":54,"utilise/keys":56,"utilise/not":58}],48:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{dup:10,"utilise/owner":59,"utilise/to":64}],49:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25,"utilise/datum":45,"utilise/key":55}],50:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],51:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{dup:13,"utilise/has":50}],52:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],53:[function(e,t){t.exports=function(e){return function(t){return~t.indexOf(e)}}},{}],54:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],55:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30,"utilise/is":54,"utilise/str":63}],56:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],57:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16,"utilise/is":54,"utilise/owner":59,"utilise/to":64}],58:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],59:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18,"utilise/client":43}],60:[function(e,t){t.exports=function(e,t){var n=!t&&document.head.createShadowRoot?"html /deep/ ":"";return(t?t:document).querySelector(n+e)}},{}],61:[function(e,t){function n(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}t.exports=function(e,t){for(var i,r=1,u=arguments.length;++r<u;)e[i=arguments[r]]=n(e,t,t[i]);return e}},{}],62:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{dup:37}],63:[function(e,t,n){arguments[4][38][0].apply(n,arguments)},{dup:38,"utilise/is":54}],64:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],65:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{dup:40,"utilise/from":49,"utilise/keys":56}]},{},[1]);